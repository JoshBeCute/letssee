@echo off
setlocal enabledelayedexpansion

:: Define the URLs and filenames
set "urls[0]=https://cdn.modrinth.com/data/EldwHO4Z/versions/uCznDel0/dragonloot-1.1.7.jar"
set "urls[1]=https://cdn.modrinth.com/data/ERH7cFoy/versions/louNc9qE/mythicupgrades-4.1.4%2Bmc1.21.jar"
set "urls[2]=https://cdn.modrinth.com/data/jhl28YkY/versions/czJc7eUX/alloy-forgery-2.4.1%2B1.21.jar"
set "urls[3]=https://cdn.modrinth.com/data/Dw7M6XKW/versions/Et2OEdJn/Icarus-Fabric-4.0.1.jar"
set "urls[4]=https://cdn.modrinth.com/data/HIuqnQpi/versions/2r5k8EKq/common-networking-fabric-1.0.16-1.21.jar"
set "urls[5]=https://cdn.modrinth.com/data/M1953qlQ/versions/PfDhIaBR/resourcefulconfig-fabric-1.21-3.0.3.jar"
set "urls[6]=https://cdn.modrinth.com/data/BL7ADJ7w/versions/1mv0vtra/trimeffects-fabric-1.21.X-1.3.5.jar"
set "urls[7]=https://cdn.modrinth.com/data/bAWzYNRd/versions/VDByzfQk/mythicmetals-0.20.1%2B1.21.jar"
set "urls[8]=https://cdn.modrinth.com/data/xGdtZczs/versions/Y6MReiyV/polymer-bundled-0.9.12%2B1.21.1.jar"
set "urls[9]=https://cdn.modrinth.com/data/BgNRHReB/versions/TxWM7AW8/bclib-21.0.13.jar"
set "urls[10]=https://cdn.modrinth.com/data/RiN8rDVs/versions/mPmeykPR/worldweaver-21.0.13.jar"
set "urls[11]=https://cdn.modrinth.com/data/MpzVLzy5/versions/M1o6hR2m/better-nether-21.0.11.jar"
set "urls[12]=https://cdn.modrinth.com/data/s3dmwKy5/versions/lbSHOhee/GlitchCore-fabric-1.21.1-2.1.0.0.jar"
set "urls[13]=https://cdn.modrinth.com/data/KPVN4aiJ/versions/8M7dCAf8/TooManyPlayers-1.21-1.1.5.jar"
set "urls[14]=https://cdn.modrinth.com/data/4WWQxlQP/versions/wPZETsJM/servercore-fabric-1.5.5%2B1.21.1.jar"
set "urls[15]=https://cdn.modrinth.com/data/Kw7Sm3Xf/versions/Lawzyi4R/noxesium-2.2.0.jar"
set "urls[16]=https://cdn.modrinth.com/data/CFX9ftUJ/versions/h21eIeqK/advancednetherite-fabric-2.1.6-1.21.1.jar"
set "urls[17]=https://cdn.modrinth.com/data/lhGA9TYQ/versions/afBcyXjI/architectury-13.0.6-fabric.jar"
set "urls[18]=https://cdn.modrinth.com/data/MBAkmtvl/versions/jVeu9BFB/balm-fabric-1.21.1-21.0.19.jar"
set "urls[19]=https://cdn.modrinth.com/data/gc8OEnCC/versions/XCwC4UWP/better-end-21.0.10.jar"
set "urls[20]=https://cdn.modrinth.com/data/VSNURh3q/versions/aJkNDmjk/c2me-fabric-mc1.21.1-0.3.0%2Balpha.0.153.jar"
set "urls[21]=https://cdn.modrinth.com/data/9s6osm5g/versions/7jtvrmVP/cloth-config-15.0.130-fabric.jar"
set "urls[22]=https://cdn.modrinth.com/data/P7dR8mSH/versions/gQS3JbZO/fabric-api-0.103.0%2B1.21.1.jar"
set "urls[23]=https://cdn.modrinth.com/data/uXXizFIs/versions/wmIZ4wP4/ferritecore-7.0.0-fabric.jar"
set "urls[24]=https://cdn.modrinth.com/data/gvQqBUqZ/versions/5szYtenV/lithium-fabric-mc1.21.1-0.13.0.jar"
set "urls[25]=https://cdn.modrinth.com/data/2ecVyZ49/versions/QFfBwOwT/Ksyxis-1.3.2.jar"
set "urls[26]=https://cdn.modrinth.com/data/ccKDOlHs/versions/AVkXApBi/owo-lib-0.12.11%2B1.21.jar"
set "urls[27]=https://cdn.modrinth.com/data/AANobbMI/versions/oZOSEhyy/sodium-fabric-0.6.0-beta.1%2Bmc1.21.jar"
set "urls[28]=https://cdn.modrinth.com/data/8oi3bsk5/versions/Mm6TmSwo/Terralith_1.21_v2.5.4.jar"
set "urls[29]=https://cdn.modrinth.com/data/5aaWibi9/versions/JagCscwi/trinkets-3.10.0.jar"
set "urls[30]=https://cdn.modrinth.com/data/LOpKHB2A/versions/12MRAK1g/waystones-fabric-1.21.1-21.1.2.jar"
set "urls[31]=https://cdn.modrinth.com/data/Ua7DFN59/versions/Nx7XHO30/YungsApi-1.21-Fabric-5.0.0.jar"
set "urls[32]=https://cdn.modrinth.com/data/OVuFYfre/versions/8OuTJDGd/enhancedblockentities-0.10.1%2B1.21.jar"
set "urls[33]=https://cdn.modrinth.com/data/iZ10HXDj/versions/9ewqcOwy/FpsReducer2-fabric-1.21-2.9.jar"
set "urls[34]=https://cdn.modrinth.com/data/LQ3K71Q1/versions/RZDYy0mt/dynamic-fps-3.6.3%2Bminecraft-1.21.0-fabric.jar"
set "urls[35]=https://cdn.modrinth.com/data/NNAgCjsB/versions/kPbJu8eF/entityculling-fabric-1.7.0-mc1.21.jar"
set "urls[36]=https://cdn.modrinth.com/data/5ZwdcRci/versions/ahszC7KU/ImmediatelyFast-Fabric-1.2.21%2B1.21.1.jar"
set "urls[37]=https://cdn.modrinth.com/data/g96Z4WVZ/versions/XYBqWKD2/BadOptimizations-2.1.4-1.21.jar"
set "urls[38]=https://cdn.modrinth.com/data/9mtu0sUO/versions/LU2kiOwD/fast-ip-ping-v1.0.4-mc1.21.1-fabric.jar"
set "urls[39]=https://cdn.modrinth.com/data/c7m1mi73/versions/4qX7Fy1t/packetfixer-fabric-1.4.1-1.21-to-1.21.1.jar"
set "urls[40]=https://cdn.modrinth.com/data/IwCkru1D/versions/cIHtzziG/cicada-lib-0.8.3%2B1.21-and-above.jar"
set "urls[41]=https://cdn.modrinth.com/data/iAiqcykM/versions/120aJYdJ/justzoom_fabric_2.0.0_MC_1.21-1.21.1.jar"
set "urls[42]=https://cdn.modrinth.com/data/J81TRJWm/versions/Qvrc7DuG/konkrete_fabric_1.9.9_MC_1.21.jar"
set "urls[43]=https://cdn.modrinth.com/data/mOgUt4GM/versions/3ib3Uvvv/modmenu-11.0.2.jar"
set "urls[44]=https://cdn.modrinth.com/data/5lvjfaRs/versions/70q59npw/CleanF3-0.4.6.jar"
set "urls[45]=https://cdn.modrinth.com/data/wnEe9KBa/versions/Zf4JROY5/vmp-fabric-mc1.21.1-0.2.0%2Bbeta.7.167-all.jar"
set "urls[46]=https://cdn.modrinth.com/data/kKwy3HU9/versions/ZPmX9Uy3/betterbeds-fabric-1.4.0.jar"
set "urls[47]=https://cdn.modrinth.com/data/GNxdLCoP/versions/JnCn3KSm/cullleaves-fabric-3.4.0.jar"
set "urls[48]=https://cdn.modrinth.com/data/joEfVgkn/versions/TuSZSQeB/carryon-fabric-1.21.1-2.2.2.11.jar"
set "urls[49]=https://cdn.modrinth.com/data/rIC2XJV4/versions/NZaQierI/ViaFabricPlus-3.4.5.jar"
set "urls[50]=https://cdn.modrinth.com/data/wNxIBREV/versions/g50P8KVR/DeathFinder-v21.1.0-1.21.1-Fabric.jar"
set "urls[51]=https://cdn.modrinth.com/data/HnD1GX6e/versions/EZyoE37u/youre-in-grave-danger-fabric-2.4.7.jar"
set "urls[52]=https://cdn.modrinth.com/data/ohNO6lps/versions/gtorYSGm/ForgeConfigAPIPort-v21.1.0-1.21.1-Fabric.jar"
set "urls[53]=https://cdn.modrinth.com/data/QAGBst4M/versions/Uc8Qr1KJ/PuzzlesLib-v21.1.3-1.21.1-Fabric.jar"

:: Loop through the URLs
for /L %%i in (0,1,53) do (
    set "url=!urls[%%i]!"
    call :downloadFile "!url!"
)

goto :eof

:downloadFile
set "url=%~1"
set "filename=%url:~40%"
if not exist "%filename%" (
    echo Downloading %filename%...
    powershell -Command "Invoke-WebRequest -Uri '%url%' -OutFile '%filename%'"
) else (
    echo %filename% already exists.
)
goto :eof
